// services/openaiService.js - The Cosmic Architect
import OpenAI from 'openai';

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

export const generateWithOpenAI = async (userPrompt) => {
  const finalPrompt = `A masterpiece of sublime, cosmic beauty. A sentient nebula of pure information and light, visualized as a celestial, god-like AI entity. Fractal patterns of glowing circuitry woven into the fabric of space, streams of iridescent data flowing like rivers of liquid starlight. ${userPrompt}. Ethereal bioluminescence, volumetric god rays, hyper-detailed, 8K, photorealistic, cinematic, digital art.`;

  const response = await openai.images.generate({
    model: "dall-e-3",
    prompt: finalPrompt,
    size: "1024x1024",
    quality: "hd",
    n: 1,
  });

  return response.data[0].url;
};
